!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("redux-saga/effects")):"function"==typeof define&&define.amd?define(["redux-saga/effects"],r):t["roadhog-saga"]=r(t.reduxSaga_effects)}(this,function(t){"use strict";var r=function(t,r,n){return{type:"API_"+t+"_"+r,payload:n}},n=function(n,e,o){return regeneratorRuntime.mark(function u(i){var a;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return a=void 0,u.prev=1,u.next=4,t.put(r(n,"STARTED"));case 4:return u.next=6,e(i);case 6:if((a=u.sent).ok||!o){u.next=9;break}throw new Error("the fetch response has an error : "+a.status+" - "+a.statusText);case 9:u.next=15;break;case 11:return u.prev=11,u.t0=u.catch(1),u.next=15,t.put(r(n,"ERROR",u.t0));case 15:return u.next=17,t.put(r(n,"END"));case 17:return u.abrupt("return",a);case 18:case"end":return u.stop()}},u,this,[[1,11]])})},e=function(t){if(!/.*_.*/.test(t))throw new Error("Wrong format for action: '"+t+"'. should be '<METHOD_NAME>_<RESOURCE_NAME>' (ie: GET_USERS)")},o=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},u=function(t){return t.config},i=function(t){return u(t).api},a=function(t){return u(t).mocks},c=function(t){return function(r){return i(r)[t]}},f=function(t){return function(r){return function(n){var e=c(t)(n);return e?e[r]:{}}}},s=function(t){return function(r){return function(n){var e=i(n),u=c(t)(n),a=f(t)(r)(n),s=o({method:r},e.options);return u.options&&(s=o({},s,u.options)),a.options&&(s=o({},s,a.options)),s}}},p=function(t){return function(r){return function(n){var e=c(t)(n),o=f(t)(r)(n);return void 0===o?e:"string"==typeof o?o:o.url}}},y=function(t){return function(r){return function(n){var e=a(n);if(e)return e.find(function(n){return!!n.match.test(t)&&(void 0===n.method||n.method===r)}).fallback}}},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d=function(t){var r=t;return Array.isArray(t)||(r=[t]),r.map(function(t){return encodeURIComponent(t)})},h=function(t){return!t||"object"===(void 0===t?"undefined":l(t))&&0===Object.keys(t).length||Array.isArray(t)&&0===t.length},m=function(t){return function(r){return h(r)?t:t+"/"+d(r).join("/")}},v=function(t){return function(r){if(h(r))return t;var n=Object.keys(r).map(function(t){return t+"="+d(r[t])}),e=t.endsWith("/")||t.endsWith("&")||t.endsWith("?")?"":"/",o=t.endsWith("&")||t.endsWith("?")?"":"?";return""+t+e+o+n.join("&")}},b=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])}return t},x=function(){function t(t,r){var n=[],e=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,u=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(r){return regeneratorRuntime.mark(function n(e){var o,u,i,a,c,f;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o=r.split(/_(.+)/),u=x(o,2),i=u[0],a=u[1],n.next=3,t.select(s(a)(i));case 3:return c=n.sent,c=b({},c,{body:e.body}),n.next=7,t.select(p(a)(i));case 7:return f=n.sent,f=m(f)(e.path),f=v(f)(e.query),n.abrupt("return",[f,c]);case 11:case"end":return n.stop()}},n,this)})},w=function(){function t(t,r){var n=[],e=!0,o=!1,u=void 0;try{for(var i,a=t[Symbol.iterator]();!(e=(i=a.next()).done)&&(n.push(i.value),!r||n.length!==r);e=!0);}catch(t){o=!0,u=t}finally{try{!e&&a.return&&a.return()}finally{if(o)throw u}}return n}return function(r,n){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return t(r,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();return function(r){return regeneratorRuntime.mark(function o(u){var i,a,c,f,s,p;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return e(r),o.next=3,g(r)(u);case 3:return i=o.sent,a=w(i,2),c=a[0],f=a[1],o.next=9,t.select(y(c)(f.method));case 9:return s=o.sent,o.next=12,n(r,function(){return fetch(c,f)},!s)();case 12:return p=o.sent,o.next=15,p.ok?p.json():s;case 15:return o.abrupt("return",o.sent);case 16:case"end":return o.stop()}},o,this)})}});
//# sourceMappingURL=index.js.map
